{"changed":true,"filter":false,"title":"server.js","tooltip":"/server.js","value":"//\n// # SimpleServer\n//\n// A simple chat server using Socket.IO, Express, and Async.\n//\n/*global fs*/\nvar http = require('http');\nvar path = require('path');\n\nvar async = require('async');\nvar socketio = require('socket.io');\nvar express = require('express');\n\nvar openalpr = require (\"node-openalpr\");\n\nvar lastsocket;\n\nvar INorOut = \"IN\";\n\n\n\nvar saved=[];\n\nvar timespent=[];\nvar logs=[];\nvar users = [];\n\nvar newUsers = [];\nvar newLogs = [];\n\nvar parkers = 0;\n\n  function fixStrings(s) {\n    s=\"\"+s;\n    \n    try {\n    s=s.trim();\n    s=s.toUpperCase();\n    } catch(e) {\n      \n    }\n    return s;\n  }\n  \n  //findPlateByuser\n  \n  function findPlateByuser(user) {\n    for (var i=0;i<newUsers.length;i++) {\n      if (user==newUsers[i].fullname) return newUsers[i].plate;\n    }\n    return 'unknown plate';\n    \n  }\n  \n  function findUserbyplate(lic) {\n    //todo trimp and upper case lic\n    lic=fixStrings(lic); //trims and upper case it\n    for (var i=0;i<newUsers.length;i++) {\n      if (newUsers[i].plate.substr(0,2)==lic.substr(0,2)) {\n      console.log(\"found by lic \" + lic + \"\" + newUsers[i]);\n      return newUsers[i].fullname;\n      }\n    }\n   \n    return \"guest\";\n  }\n  \n  function getUsers(fullname) {\n    \n    fullname = fixStrings(fullname);\n    var temp=[];\n    for (var i=0;i<newUsers.length;i++) {\n      if ((fullname==\"\") || (newUsers[i].fullname==fullname)) {\n          temp.push(newUsers[i]);\n          console.log(newUsers[i].fullname + \"\\n\");\n          }\n    }\n    return temp;\n    \n  }  \n  \n  // function findUserbyplate(plate) {\n    \n  //   plate = fixStrings(plate);\n    \n  //   for (var i=0;i<newUsers.length;i++) {\n  //     if (newUsers[i].plate==plate) {\n  //         console.log(\"\\n\" + newUsers[i].plate + \" \" + newUsers[i].fullname);\n  //         return newUsers[i].fullname;\n  //     }\n  //   }\n  //   return \"unkown\";\n  // }  \n  \n  function findUserbyFullname(fullname) {\n    \n    fullname = fixStrings(fullname);\n    \n    for (var i=0;i<newUsers.length;i++) {\n      if (newUsers[i].fullname==fullname) {\n          console.log(\"Found:\" + JSON.stringify(newUsers[i]));\n          return newUsers[i];\n      }\n    }\n    \n    return null;\n    \n  }\n  \n  function addUser(fullname,plate,timestamp,details) {\n    var p =  {\n      'fullname': fullname,\n      'plate': plate,\n      'timestamp': timestamp,\n      'details' : details\n    }\n    \n    if (!findUserbyFullname(fullname)) {\n      newUsers.push(p);\n      return p;\n    }\n    return null;\n  }\n  \n  function logAction(plate,timestamp,statusLocation) {\n    \n    var p = {\n      'plate' : plate,\n      'timestamp' : Date.now(),\n      'statusLocation' : statusLocation\n    }\n    \n    newLogs.push(p);\n    \n    if (statusLocation==\"IN\") {\n      saved[plate]=timestamp;\n    }\n    \n    \n    if (statusLocation==\"OUT\") {\n      \n      //FIND THE IN RECORD\n      console.log(timestamp);\n      console.log(saved[plate]);\n      console.log(\"time: \" + (timestamp-saved[plate]));\n    \n    var q = {\n      'plate' : plate,\n      'timestamp' : Date.now(),\n      'timespent' : (timestamp-saved[plate])/1000\n    }\n   \n      timespent.push(q);\n      \n    console.log(JSON.stringify(q));\n      \n    }\n    \n    \n    \n  }\n  \n  function getLogs(plate) {\n    \n    //plate=fixStrings(plate);\n    \n    var temp=[];\n    \n    for (var i=0;i<newLogs.length;i++) {\n      console.log('..' + newLogs[i].plate + '.. == ..' + plate);\n      if  (plate==newLogs[i].plate) {\n        \n        temp.push(newLogs[i]);\n        \n       // console.log(newLogs[i]);\n       // console.log(\"\");\n      }\n    }\n    \n    return temp;\n    \n  }\n  \n\n// findUserbyFullname(\"Sheldon Pasciak\");\n// console.log(findUserbyplate(\"12345\"));\n// addUser('Sheldon Pasciak',\"12345\",Date.now(),\"retired\");\n// addUser('Brendan Tackney',\"55555\",Date.now(),\"lifeguard\");\n// logAction(\"12345\",Date.now(),\"IN\");\n// logAction(\"12345\",Date.now(),\"IN\");\n// logAction(\"55555\",Date.now(),\"IN\");\n// logAction(\"12345\",Date.now(),\"OUT\");\n// getLogs(\"12345\");\n// getUsers(\"\");\n// console.log(findUserbyplate(\"12345\").fullname);\n// findUserbyplate(\"55555\");\n\n\naddUser(\"SHELDON PASCIAK\",\"EJBU74\", Date.now(), 'LOAD');\naddUser(\"SHELDON PASCIAK\",\"EJB74\", Date.now(), 'LOAD');\naddUser(\"SHELDON PASCIAK\",\"EJ8U74\", Date.now(), 'LOAD');\n\naddUser(\"BRENDAN TACKNEY\",\"BRENDAN\", Date.now(), 'LOAD');\naddUser(\"JOEL MILLIGAN\",\"JOEL\", Date.now(), 'LOAD');\naddUser(\"JOEL MILLIGAN\",\"JOEL\", Date.now(), 'LOAD');\n\naddUser(\"SHELDON PASCIAK\",\"SHELDON\", Date.now(), 'LOAD');\naddUser(\"SMART SIGN\",\"SMARTSIGN\", Date.now(), 'LOAD');\n\nlogAction(\"BRENDAN\",Date.now(),\"IN\");\nlogAction(\"EJBU74\",Date.now(),\"IN\");\nlogAction(\"JOEL\",Date.now(),\"IN\");\n\nlogAction(\"BRENDAN\",Date.now()+60000,\"OUT\");\nlogAction(\"EJBU74\",Date.now(),\"OUT\");\nlogAction(\"JOEL\",Date.now(),\"OUT\");\n\nlogAction(\"BRENDAN\",Date.now(),\"IN\");\nlogAction(\"BRENDAN\",Date.now()+60000*5,\"OUT\");\n\nlogAction(\"BRENDAN\",Date.now(),\"IN\");\nlogAction(\"BRENDAN\",Date.now()+60000*10,\"OUT\");\n\nlogAction(\"BRENDAN\",Date.now(),\"IN\");\nlogAction(\"BRENDAN\",Date.now()+60000*15,\"OUT\");\n\nlogAction(\"BRENDAN\",Date.now(),\"IN\");\nlogAction(\"BRENDAN\",Date.now()+60000*90,\"OUT\");\n//\n// ## SimpleServer `SimpleServer(obj)`\n//\n// Creates a new instance of SimpleServer with the following options:\n//  * `port` - The HTTP port to listen on. If `process.env.PORT` is set, _it overrides this value_.\n//\nvar router = express();\nvar server = http.createServer(router);\nvar io = socketio.listen(server);\n\nrouter.use(express.static(path.resolve(__dirname, 'client')));\nvar messages = [];\nvar sockets = [];\n\n\n\nio.on('connection', function (socket) {\n\n    sockets.push(socket);\n\n    socket.on('disconnect', function () {\n      sockets.splice(sockets.indexOf(socket), 1);\n      updateRoster();\n    });\n\n    \n      socket.on('IN', function (msg) {\n        console.log(\"Coming IN\");\n        msg=msg.replace(\"octet-stream\",\"image/png\")\n        INorOut = \"IN\";\n        saveImage(msg,\"IN.png\");\n  \n        runshit();\n      });\n    \n      socket.on('OUT', function (msg) {\n          console.log(\"Going Out\");\n          INorOut = \"OUT\";\n          msg=msg.replace(\"octet-stream\",\"image/png\")\n          saveImage(msg,\"OUT.png\", \"OUT\");\n\n          runshit();\n      });\n      \n      socket.on('TO_SERVER', function (data) {\n       console.log(data);\n       data=\"MODIFIED \" + data;\n       socket.emit(\"FROM_SERVER\", data);\n      });\n      \n      socket.on(\"userData\", function(data){\n        \n        addUser(data.firstName + \" \" + data.lastName,data.plate,Date.now(),\"\");\n        getUsers(\"\");\n        \n        console.log(data);\n        users.push(data);\n        console.log(\"TEST\" + JSON.stringify(users));\n        \n      });\n\n\n      socket.on(\"MY_ACCOUNT\", function(data){\n        console.log(\"PLATE #:\" + data)\n        data=fixStrings(data);\n        var objs = getLogs(data);\n        console.log(\"@@@\" + objs);\n        socket.emit(\"USER_ACCOUNT\", objs);\n        socket.emit(\"USER_ACCOUNT2\", timespent);\n      });\n      \n      \n      \n\nfunction updateRoster() {\n  async.map(\n    sockets,\n    function (socket, callback) {\n      socket.get('name', callback);\n    },\n    function (err, names) {\n      broadcast('roster', names);\n    }\n  );\n}\n\n\nfunction broadcast(event, data) {\n  sockets.forEach(function (socket) {\n    socket.emit(event, data);\n  });\n}\n\n\n\nfunction saveImage(img,fname) {\n  \nvar fs = require('fs');\n\nvar data = img.replace(/^data:image\\/\\w+;base64,/, \"\");\nvar buf = new Buffer(data, 'base64');\nfs.writeFile(fname, buf);\n\n}\n\nfunction showLogs() {\n  \n  for (var i=0;i<logs.length;i++) {\n    console.log(JSON.stringify(logs[i]));\n  }\n  \n}\n\n\nfunction runshit() {\n  \n  var d = new Date();\n  var myTime = d.getTime();\n  \nconsole.log(\"INOROUT\"+ INorOut)\nvar path;\n  if(INorOut == \"IN\"){\n    path = '/home/ubuntu/workspace/IN.png';\n  }\n    if(INorOut == \"OUT\"){\n\n    path = '/home/ubuntu/workspace/OUT.png';\n  }\n\nvar exec = require('child_process').exec;\nvar cmd = 'alpr -c us ' + path;\n\nexec(cmd, function(error, stdout, stderr) {\n  console.log(\"test2222\");\n  var arr = stdout.split(\"\\n\");\n    console.log(\"my path\" + path);\n\n  if(arr.length >6){\n    var plate = \"my plate\" + arr[1];\n    console.log(plate)\n    var plate2 = arr[1].split(\" \");\n    plate2[5].replace(/\\s/g,'')\n    var writeME = INorOut + \":\" + plate2[5] + \":\" + myTime;//todo tODO\n    \n    console.log(\"plate2\" + writeME);\n    \n   // var obj = {  'plate': plate2[5], 'time': myTime, 'Tracking': INorOut } \n    \n    var dd=plate2[5];\n    \n    do {\n      dd=dd.replace(\" \",\"\");\n    } while(dd.search(\" \")>-1)\n    \n    dd=dd.substr(0,6);\n    \n   var obj = {  'plate': dd, 'time': myTime, 'Tracking': INorOut } \n    \n    console.log(\".\" + dd + \".\");\n    \n    for (var i=0;i<users.length;i++){\n      //console.log(JSON.stringify(users[i]));\n     // console.log(\"users plate\");\n      //console.log(users[i].plate);\n       console.log(\"-.\" + users[i].plate + \".-\");\n      if (users[i].plate==dd) console.log(\"Found: \" + JSON.stringify(users[i]));\n    }\n    \n   var tn = findUserbyplate(dd);\n   \n   var ul = findPlateByuser(tn);\n   \n    logAction(ul,Date.now(),INorOut);\n    \n    logs.push(obj);\n    \n   // var tn = \"guest\" ;  if (findUserbyFullname(dd).fullname) tn = findUserbyFullname(dd).fullname;\n    \n\n   \n   if (ul==\"unknown plate\") ul=dd;\n    \n    socket.emit(\"GREEN\",  tn  );\n    \n    if(INorOut == \"IN\"){\n      parkers++;\n      socket.emit(\"SHOW_SPACES\", parkers);\n    } else {\n      if (parkers>0) pamrkers--;\n      console.log(parkers + \" parkers \");\n      socket.emit(\"SHOW_SPACES\", parkers);\n    }\n  } else  {\n    \n    socket.emit(\"RED\",parkers);\n    socket.emit(\"SHOW_SPACES\", parkers); \n    console.log(\"BAD PLATE.\" + dd );\n  \n  }\n  \n});\n\n}\n\n  });\n\n\nserver.listen(process.env.PORT || 3000, process.env.IP || \"0.0.0.0\", function(){\n  var addr = server.address();\n  console.log(\"Chat server listening at\", addr.address + \":\" + addr.port);\n});\n","undoManager":{"mark":-1441,"position":100,"stack":[[{"start":{"row":412,"column":7},"end":{"row":412,"column":8},"action":"insert","lines":["s"],"id":1552}],[{"start":{"row":412,"column":8},"end":{"row":412,"column":9},"action":"insert","lines":["o"],"id":1553}],[{"start":{"row":412,"column":9},"end":{"row":412,"column":10},"action":"insert","lines":["c"],"id":1554}],[{"start":{"row":412,"column":10},"end":{"row":412,"column":11},"action":"insert","lines":["k"],"id":1555}],[{"start":{"row":412,"column":11},"end":{"row":412,"column":12},"action":"insert","lines":["e"],"id":1556}],[{"start":{"row":412,"column":12},"end":{"row":412,"column":13},"action":"insert","lines":["t"],"id":1557}],[{"start":{"row":412,"column":13},"end":{"row":412,"column":14},"action":"insert","lines":["."],"id":1558}],[{"start":{"row":412,"column":13},"end":{"row":412,"column":14},"action":"remove","lines":["."],"id":1559}],[{"start":{"row":412,"column":7},"end":{"row":412,"column":13},"action":"remove","lines":["socket"],"id":1560}],[{"start":{"row":412,"column":7},"end":{"row":412,"column":8},"action":"insert","lines":["I"],"id":1561}],[{"start":{"row":412,"column":8},"end":{"row":412,"column":9},"action":"insert","lines":["S"],"id":1562}],[{"start":{"row":412,"column":8},"end":{"row":412,"column":9},"action":"remove","lines":["S"],"id":1563}],[{"start":{"row":412,"column":7},"end":{"row":412,"column":8},"action":"remove","lines":["I"],"id":1564}],[{"start":{"row":343,"column":2},"end":{"row":344,"column":2},"action":"insert","lines":["","  "],"id":1565,"ignore":true}],[{"start":{"row":413,"column":7},"end":{"row":413,"column":8},"action":"insert","lines":["i"],"id":1566}],[{"start":{"row":413,"column":8},"end":{"row":413,"column":9},"action":"insert","lines":["N"],"id":1567}],[{"start":{"row":413,"column":8},"end":{"row":413,"column":9},"action":"remove","lines":["N"],"id":1568}],[{"start":{"row":413,"column":7},"end":{"row":413,"column":8},"action":"remove","lines":["i"],"id":1569}],[{"start":{"row":413,"column":7},"end":{"row":413,"column":8},"action":"insert","lines":["I"],"id":1570}],[{"start":{"row":413,"column":8},"end":{"row":413,"column":9},"action":"insert","lines":["N"],"id":1571}],[{"start":{"row":413,"column":7},"end":{"row":413,"column":9},"action":"remove","lines":["IN"],"id":1572},{"start":{"row":413,"column":7},"end":{"row":413,"column":14},"action":"insert","lines":["INorOut"]}],[{"start":{"row":413,"column":14},"end":{"row":413,"column":15},"action":"insert","lines":[" "],"id":1573}],[{"start":{"row":413,"column":15},"end":{"row":413,"column":16},"action":"insert","lines":["="],"id":1574}],[{"start":{"row":413,"column":16},"end":{"row":413,"column":17},"action":"insert","lines":["="],"id":1575}],[{"start":{"row":413,"column":17},"end":{"row":413,"column":18},"action":"insert","lines":[" "],"id":1576}],[{"start":{"row":413,"column":18},"end":{"row":413,"column":19},"action":"insert","lines":["f"],"id":1577}],[{"start":{"row":413,"column":19},"end":{"row":413,"column":20},"action":"insert","lines":["l"],"id":1578}],[{"start":{"row":413,"column":20},"end":{"row":413,"column":21},"action":"insert","lines":["a"],"id":1579}],[{"start":{"row":413,"column":20},"end":{"row":413,"column":21},"action":"remove","lines":["a"],"id":1580}],[{"start":{"row":413,"column":19},"end":{"row":413,"column":20},"action":"remove","lines":["l"],"id":1581}],[{"start":{"row":413,"column":18},"end":{"row":413,"column":19},"action":"remove","lines":["f"],"id":1582}],[{"start":{"row":413,"column":17},"end":{"row":413,"column":18},"action":"remove","lines":[" "],"id":1583}],[{"start":{"row":413,"column":16},"end":{"row":413,"column":17},"action":"remove","lines":["="],"id":1584}],[{"start":{"row":342,"column":20},"end":{"row":343,"column":2},"action":"remove","lines":["","  "],"id":1585,"ignore":true}],[{"start":{"row":412,"column":16},"end":{"row":412,"column":17},"action":"insert","lines":["="],"id":1586}],[{"start":{"row":412,"column":17},"end":{"row":412,"column":18},"action":"insert","lines":[" "],"id":1587}],[{"start":{"row":412,"column":18},"end":{"row":412,"column":20},"action":"insert","lines":["\"\""],"id":1588}],[{"start":{"row":412,"column":19},"end":{"row":412,"column":20},"action":"insert","lines":["I"],"id":1589}],[{"start":{"row":412,"column":20},"end":{"row":412,"column":21},"action":"insert","lines":["N"],"id":1590}],[{"start":{"row":412,"column":23},"end":{"row":412,"column":24},"action":"insert","lines":["{"],"id":1591}],[{"start":{"row":412,"column":24},"end":{"row":414,"column":5},"action":"insert","lines":["","      ","    }"],"id":1592}],[{"start":{"row":414,"column":5},"end":{"row":414,"column":6},"action":"insert","lines":[" "],"id":1593}],[{"start":{"row":414,"column":6},"end":{"row":414,"column":7},"action":"insert","lines":["e"],"id":1594}],[{"start":{"row":414,"column":7},"end":{"row":414,"column":8},"action":"insert","lines":["l"],"id":1595}],[{"start":{"row":414,"column":7},"end":{"row":414,"column":8},"action":"remove","lines":["l"],"id":1596}],[{"start":{"row":414,"column":6},"end":{"row":414,"column":7},"action":"remove","lines":["e"],"id":1597}],[{"start":{"row":414,"column":6},"end":{"row":414,"column":7},"action":"insert","lines":["e"],"id":1598}],[{"start":{"row":414,"column":7},"end":{"row":414,"column":8},"action":"insert","lines":["l"],"id":1599}],[{"start":{"row":414,"column":8},"end":{"row":414,"column":9},"action":"insert","lines":["s"],"id":1600}],[{"start":{"row":414,"column":9},"end":{"row":414,"column":10},"action":"insert","lines":["e"],"id":1601}],[{"start":{"row":414,"column":10},"end":{"row":414,"column":11},"action":"insert","lines":[" "],"id":1602}],[{"start":{"row":414,"column":11},"end":{"row":414,"column":12},"action":"insert","lines":["{"],"id":1603}],[{"start":{"row":414,"column":12},"end":{"row":416,"column":5},"action":"insert","lines":["","      ","    }"],"id":1604}],[{"start":{"row":417,"column":10},"end":{"row":417,"column":35},"action":"remove","lines":["if (parkers>0) parkers--;"],"id":1605}],[{"start":{"row":413,"column":6},"end":{"row":413,"column":31},"action":"insert","lines":["if (parkers>0) parkers--;"],"id":1606}],[{"start":{"row":413,"column":6},"end":{"row":413,"column":31},"action":"remove","lines":["if (parkers>0) parkers--;"],"id":1607}],[{"start":{"row":415,"column":6},"end":{"row":415,"column":31},"action":"insert","lines":["if (parkers>0) parkers--;"],"id":1608}],[{"start":{"row":418,"column":9},"end":{"row":419,"column":46},"action":"remove","lines":[" console.log(parkers + \" parkers \");","          socket.emit(\"SHOW_SPACES\", parkers);"],"id":1609}],[{"start":{"row":415,"column":31},"end":{"row":416,"column":0},"action":"insert","lines":["",""],"id":1610},{"start":{"row":416,"column":0},"end":{"row":416,"column":6},"action":"insert","lines":["      "]}],[{"start":{"row":416,"column":6},"end":{"row":417,"column":46},"action":"insert","lines":[" console.log(parkers + \" parkers \");","          socket.emit(\"SHOW_SPACES\", parkers);"],"id":1611}],[{"start":{"row":417,"column":7},"end":{"row":417,"column":10},"action":"remove","lines":["   "],"id":1612}],[{"start":{"row":417,"column":6},"end":{"row":417,"column":7},"action":"remove","lines":[" "],"id":1613}],[{"start":{"row":416,"column":6},"end":{"row":416,"column":7},"action":"remove","lines":[" "],"id":1614}],[{"start":{"row":419,"column":0},"end":{"row":422,"column":4},"action":"remove","lines":["          ","         ","          ///////////////////////////////","    "],"id":1615}],[{"start":{"row":418,"column":5},"end":{"row":419,"column":0},"action":"remove","lines":["",""],"id":1616}],[{"start":{"row":413,"column":6},"end":{"row":413,"column":7},"action":"insert","lines":["p"],"id":1617}],[{"start":{"row":413,"column":7},"end":{"row":413,"column":8},"action":"insert","lines":["a"],"id":1618}],[{"start":{"row":413,"column":8},"end":{"row":413,"column":9},"action":"insert","lines":["r"],"id":1619}],[{"start":{"row":413,"column":9},"end":{"row":413,"column":10},"action":"insert","lines":["k"],"id":1620}],[{"start":{"row":413,"column":10},"end":{"row":413,"column":11},"action":"insert","lines":["e"],"id":1621}],[{"start":{"row":413,"column":11},"end":{"row":413,"column":12},"action":"insert","lines":["t"],"id":1622}],[{"start":{"row":413,"column":12},"end":{"row":413,"column":13},"action":"insert","lines":["s"],"id":1623}],[{"start":{"row":413,"column":13},"end":{"row":413,"column":14},"action":"insert","lines":["+"],"id":1624}],[{"start":{"row":413,"column":14},"end":{"row":413,"column":15},"action":"insert","lines":["+"],"id":1625}],[{"start":{"row":413,"column":15},"end":{"row":413,"column":16},"action":"insert","lines":[";"],"id":1626}],[{"start":{"row":413,"column":16},"end":{"row":414,"column":0},"action":"insert","lines":["",""],"id":1627},{"start":{"row":414,"column":0},"end":{"row":414,"column":6},"action":"insert","lines":["      "]}],[{"start":{"row":414,"column":6},"end":{"row":414,"column":42},"action":"insert","lines":["socket.emit(\"SHOW_SPACES\", parkers);"],"id":1628}],[{"start":{"row":204,"column":25},"end":{"row":204,"column":29},"action":"remove","lines":["JOEL"],"id":1629,"ignore":true},{"start":{"row":204,"column":25},"end":{"row":204,"column":30},"action":"insert","lines":["JOELM"]}],[{"start":{"row":204,"column":25},"end":{"row":204,"column":30},"action":"remove","lines":["JOELM"],"id":1630,"ignore":true},{"start":{"row":204,"column":25},"end":{"row":204,"column":28},"action":"insert","lines":["JOE"]}],[{"start":{"row":204,"column":28},"end":{"row":204,"column":30},"action":"insert","lines":["LM"],"id":1631,"ignore":true}],[{"start":{"row":204,"column":29},"end":{"row":204,"column":30},"action":"remove","lines":["M"],"id":1632,"ignore":true},{"start":{"row":204,"column":29},"end":{"row":204,"column":34},"action":"insert","lines":[" MILL"]}],[{"start":{"row":204,"column":25},"end":{"row":204,"column":34},"action":"remove","lines":["JOEL MILL"],"id":1633,"ignore":true},{"start":{"row":204,"column":25},"end":{"row":204,"column":32},"action":"insert","lines":["WPN1773"]}],[{"start":{"row":203,"column":25},"end":{"row":203,"column":32},"action":"remove","lines":["WPN1773"],"id":1634,"ignore":true},{"start":{"row":203,"column":25},"end":{"row":203,"column":29},"action":"insert","lines":["JOEL"]},{"start":{"row":204,"column":25},"end":{"row":204,"column":32},"action":"remove","lines":["WPN1773"]},{"start":{"row":204,"column":25},"end":{"row":204,"column":26},"action":"insert","lines":["J"]}],[{"start":{"row":204,"column":26},"end":{"row":204,"column":29},"action":"insert","lines":["OEL"],"id":1635,"ignore":true}],[{"start":{"row":413,"column":11},"end":{"row":413,"column":12},"action":"remove","lines":["t"],"id":1636}],[{"start":{"row":413,"column":11},"end":{"row":413,"column":12},"action":"insert","lines":["r"],"id":1637}],[{"start":{"row":423,"column":5},"end":{"row":423,"column":6},"action":"remove","lines":[" "],"id":1638}],[{"start":{"row":423,"column":4},"end":{"row":423,"column":5},"action":"remove","lines":[" "],"id":1639}],[{"start":{"row":420,"column":11},"end":{"row":420,"column":12},"action":"insert","lines":["."],"id":1640}],[{"start":{"row":420,"column":12},"end":{"row":420,"column":13},"action":"insert","lines":["b"],"id":1641}],[{"start":{"row":420,"column":13},"end":{"row":420,"column":14},"action":"insert","lines":["r"],"id":1642}],[{"start":{"row":420,"column":13},"end":{"row":420,"column":14},"action":"remove","lines":["r"],"id":1643}],[{"start":{"row":420,"column":12},"end":{"row":420,"column":13},"action":"remove","lines":["b"],"id":1644}],[{"start":{"row":420,"column":11},"end":{"row":420,"column":12},"action":"remove","lines":["."],"id":1645}],[{"start":{"row":424,"column":39},"end":{"row":424,"column":51},"action":"insert","lines":[" + plate2[5]"],"id":1646,"ignore":true}],[{"start":{"row":424,"column":34},"end":{"row":424,"column":51},"action":"remove","lines":["+ \".\" + plate2[5]"],"id":1647,"ignore":true}],[{"start":{"row":412,"column":4},"end":{"row":412,"column":7},"action":"insert","lines":["// "],"id":1648},{"start":{"row":413,"column":4},"end":{"row":413,"column":7},"action":"insert","lines":["// "]},{"start":{"row":414,"column":4},"end":{"row":414,"column":7},"action":"insert","lines":["// "]},{"start":{"row":415,"column":4},"end":{"row":415,"column":7},"action":"insert","lines":["// "]},{"start":{"row":416,"column":4},"end":{"row":416,"column":7},"action":"insert","lines":["// "]},{"start":{"row":417,"column":4},"end":{"row":417,"column":7},"action":"insert","lines":["// "]},{"start":{"row":418,"column":4},"end":{"row":418,"column":7},"action":"insert","lines":["// "]},{"start":{"row":419,"column":4},"end":{"row":419,"column":7},"action":"insert","lines":["// "]}],[{"start":{"row":423,"column":4},"end":{"row":423,"column":7},"action":"insert","lines":["// "],"id":1649}],[{"start":{"row":412,"column":4},"end":{"row":412,"column":7},"action":"remove","lines":["// "],"id":1650},{"start":{"row":413,"column":4},"end":{"row":413,"column":7},"action":"remove","lines":["// "]},{"start":{"row":414,"column":4},"end":{"row":414,"column":7},"action":"remove","lines":["// "]},{"start":{"row":415,"column":4},"end":{"row":415,"column":7},"action":"remove","lines":["// "]},{"start":{"row":416,"column":4},"end":{"row":416,"column":7},"action":"remove","lines":["// "]},{"start":{"row":417,"column":4},"end":{"row":417,"column":7},"action":"remove","lines":["// "]},{"start":{"row":418,"column":4},"end":{"row":418,"column":7},"action":"remove","lines":["// "]},{"start":{"row":419,"column":4},"end":{"row":419,"column":7},"action":"remove","lines":["// "]}],[{"start":{"row":423,"column":4},"end":{"row":423,"column":7},"action":"remove","lines":["// "],"id":1651}],[{"start":{"row":416,"column":23},"end":{"row":416,"column":24},"action":"insert","lines":["m"],"id":1652}]]},"ace":{"folds":[],"customSyntax":"javascript","scrolltop":2447.9998602867126,"scrollleft":0,"selection":{"start":{"row":412,"column":23},"end":{"row":412,"column":23},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":182,"state":"no_regex","mode":"ace/mode/javascript"}},"timestamp":1487486059964}